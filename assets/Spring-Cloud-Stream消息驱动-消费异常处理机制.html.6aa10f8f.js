import{_ as n,o as s,c as a,a as t}from"./app.4a9c1875.js";const p={},o=t(`<h1 id="spring-cloud-stream-\u6D88\u606F\u9A71\u52A8-\u6D88\u8D39\u5F02\u5E38\u5904\u7406\u673A\u5236" tabindex="-1"><a class="header-anchor" href="#spring-cloud-stream-\u6D88\u606F\u9A71\u52A8-\u6D88\u8D39\u5F02\u5E38\u5904\u7406\u673A\u5236" aria-hidden="true">#</a> Spring Cloud Stream \u6D88\u606F\u9A71\u52A8-\u6D88\u8D39\u5F02\u5E38\u5904\u7406\u673A\u5236</h1><p>\u5728 Spring Cloud Stream \u4E2D\uFF0C\u63D0\u4F9B\u4E86\u901A\u7528\u7684\u6D88\u8D39\u5F02\u5E38\u5904\u7406\u673A\u5236\uFF0C\u53EF\u4EE5\u62E6\u622A\u5230\u6D88\u8D39\u8005\u6D88\u8D39\u6D88\u606F\u65F6\u53D1\u751F\u7684\u5F02\u5E38\uFF0C\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u5904\u7406\u903B\u8F91\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>  <span class="token comment">/*\u9488\u5BF9\u4E8E\u5355\u4E2A\u901A\u9053\u548C\u5206\u7EC4\u7684\u76D1\u542C*/</span>
    <span class="token annotation punctuation">@ServiceActivator</span><span class="token punctuation">(</span>inputChannel <span class="token operator">=</span> <span class="token string">&quot;&lt;destination&gt;.&lt;group&gt;.errors&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleError</span><span class="token punctuation">(</span><span class="token class-name">ErrorMessage</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;[handleError][payload\uFF1A{}]&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ExceptionUtils</span><span class="token punctuation">.</span><span class="token function">getRootCauseMessage</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;[handleError][originalMessage\uFF1A{}]&quot;</span><span class="token punctuation">,</span> errorMessage<span class="token punctuation">.</span><span class="token function">getOriginalMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;[handleError][headers\uFF1A{}]&quot;</span><span class="token punctuation">,</span> errorMessage<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token comment">/*\u5168\u5C40\u7684\u9519\u8BEF\u76D1\u542C*/</span>
    <span class="token annotation punctuation">@StreamListener</span><span class="token punctuation">(</span><span class="token class-name">IntegrationContextUtils</span><span class="token punctuation">.</span>ERROR_CHANNEL_BEAN_NAME<span class="token punctuation">)</span> <span class="token comment">// errorChannel</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">globalHandleError</span><span class="token punctuation">(</span><span class="token class-name">ErrorMessage</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;[globalHandleError][payload\uFF1A{}]&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ExceptionUtils</span><span class="token punctuation">.</span><span class="token function">getRootCauseMessage</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;[globalHandleError][originalMessage\uFF1A{}]&quot;</span><span class="token punctuation">,</span> errorMessage<span class="token punctuation">.</span><span class="token function">getOriginalMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;[globalHandleError][headers\uFF1A{}]&quot;</span><span class="token punctuation">,</span> errorMessage<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),e=[o];function c(u,l){return s(),a("div",null,e)}var r=n(p,[["render",c],["__file","Spring-Cloud-Stream\u6D88\u606F\u9A71\u52A8-\u6D88\u8D39\u5F02\u5E38\u5904\u7406\u673A\u5236.html.vue"]]);export{r as default};

import{_ as s,o as n,c as e,a}from"./app.4a9c1875.js";const i={},d=a(`<h1 id="ubuntu-\u8BBE\u7F6E\u8FDC\u7A0B\u767B\u9646" tabindex="-1"><a class="header-anchor" href="#ubuntu-\u8BBE\u7F6E\u8FDC\u7A0B\u767B\u9646" aria-hidden="true">#</a> Ubuntu \u8BBE\u7F6E\u8FDC\u7A0B\u767B\u9646</h1><h2 id="\u68C0\u67E5ssh\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u68C0\u67E5ssh\u670D\u52A1" aria-hidden="true">#</a> \u68C0\u67E5ssh\u670D\u52A1</h2><p>\u5224\u65AD\u662F\u5426\u5B89\u88C5ssh\u670D\u52A1\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5982\u4E0B\u547D\u4EE4\u8FDB\u884C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ps</span> -e<span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">ssh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8F93\u51FA\u5982\u4E0B\uFF1A\u8868\u793A\u5DF2\u7ECF\u5B89\u88C5\u4E86ssh</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@moom:~<span class="token comment"># ps -e| grep ssh</span>
    <span class="token number">879</span> ?        00:00:00 sshd
   <span class="token number">2302</span> ?        00:00:00 sshd
   <span class="token number">2314</span> ?        00:00:00 sshd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B89\u88C5-\u548C\u5F00\u542Fssh\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-\u548C\u5F00\u542Fssh\u670D\u52A1" aria-hidden="true">#</a> \u5B89\u88C5 \u548C\u5F00\u542Fssh\u670D\u52A1</h2><h3 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h3><p>\u5982\u679C\u4F60\u7528\u7684\u662F<strong>redhat\uFF0Cfedora\uFF0Ccentos</strong> \u7B49\u7CFB\u5217linux\u53D1\u884C\u7248\uFF0C\u90A3\u4E48\u6572\u5165\u4EE5\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> sshd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u4F7F\u7528\u7684\u662F<strong>debian\uFF0Cubuntu\uFF0Clinux mint</strong> \u7B49\u7CFB\u5217\u7684linux\u53D1\u884C\u7248\uFF0C\u90A3\u4E48\u6572\u5165\u4EE5\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> sshd
or
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> openssh-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F00\u542F" tabindex="-1"><a class="header-anchor" href="#\u5F00\u542F" aria-hidden="true">#</a> \u5F00\u542F</h3><p>\u5F00\u542Fssh\u670D\u52A1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> sshd start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u51FA\u73B0\u9519\u8BEF <code>sshd: no hostkeys available -- exiting.</code></p><p>\u8F93\u5165 <code>ssh-keygen -A</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@LAPTOP-DDEOSP8K:/etc/ssh<span class="token comment"># service ssh start</span>
sshd: no hostkeys available -- exiting.
root@LAPTOP-DDEOSP8K:/etc/ssh<span class="token comment"># ssh-keygen -A</span>
ssh-keygen: generating new <span class="token function">host</span> keys: RSA DSA ECDSA ED25519
root@LAPTOP-DDEOSP8K:/etc/ssh<span class="token comment"># service ssh start</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F00\u673A\u81EA\u542F" tabindex="-1"><a class="header-anchor" href="#\u5F00\u673A\u81EA\u542F" aria-hidden="true">#</a> \u5F00\u673A\u81EA\u542F</h3><p>\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8</p><div class="language-\u7EAF\u6587\u672C ext-\u7EAF\u6587\u672C line-numbers-mode"><pre class="language-\u7EAF\u6587\u672C"><code>sudo systemctl enable ssh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5173\u95EDssh\u5F00\u673A\u81EA\u52A8\u542F\u52A8\u547D\u4EE4</p><div class="language-\u7EAF\u6587\u672C ext-\u7EAF\u6587\u672C line-numbers-mode"><pre class="language-\u7EAF\u6587\u672C"><code>sudo systemctl disable ssh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5378\u8F7Dssh\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u5378\u8F7Dssh\u670D\u52A1" aria-hidden="true">#</a> \u5378\u8F7Dssh\u670D\u52A1</h2><p>\u5982\u679C\u4F60\u7528\u7684\u662Fredhat\uFF0Cfedora\uFF0Ccentos\u7B49\u7CFB\u5217linux\u53D1\u884C\u7248\uFF0C\u90A3\u4E48\u6572\u5165\u4EE5\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove sshd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u4F7F\u7528\u7684\u662Fdebian\uFF0Cubuntu\uFF0Clinux mint\u7B49\u7CFB\u5217\u7684linux\u53D1\u884C\u7248\uFF0C\u90A3\u4E48\u6572\u5165\u4EE5\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> \u2013purge remove sshd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7136\u540E\u5C31\u4F1A\u63D0\u793A\u5378\u8F7D\u5B8C\u6210\u3002</p><h2 id="linux-\u8FDC\u7A0B\u5BC6\u7801\u6A21\u5F0F\u767B\u9646" tabindex="-1"><a class="header-anchor" href="#linux-\u8FDC\u7A0B\u5BC6\u7801\u6A21\u5F0F\u767B\u9646" aria-hidden="true">#</a> Linux \u8FDC\u7A0B\u5BC6\u7801\u6A21\u5F0F\u767B\u9646</h2><blockquote><p>\u5728wsl\u4E2D\u6267\u884Csudo /etc/init.d/ssh start<br>\u53EF\u80FD\u4F1A\u51FA\u73B0sshd: no hostkeys available -- exiting\u7684\u62A5\u9519\uFF0C<br>\u5728 /etc/ssh \u8DEF\u5F84\u4E0B\u6267\u884Csudo ssh-keygen -A\u53EF\u4EE5\u89E3\u51B3\u3002</p></blockquote><p>\u6539\u540Dsshd_config \u914D\u7F6E\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u5907\u4EFD\u6587\u4EF6</span>
<span class="token function">cp</span> /etc/ssh/sshd_config /etc/ssh/sshd_config_backup
<span class="token comment"># \u7F16\u8F91\u6587\u4EF6</span>
<span class="token function">vim</span> /etc/ssh/sshd_config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4FEE\u6539\u4EE5\u4E0B\u5185\u5BB9\u7136\u540E\u4FDD\u5B58</p><div class="language-\u7EAF\u6587\u672C ext-\u7EAF\u6587\u672C line-numbers-mode"><pre class="language-\u7EAF\u6587\u672C"><code>Port 22
ListenAddress 0.0.0.0
PasswordAuthentication yes # \u5141\u8BB8\u7528\u6237\u540D\u5BC6\u7801\u65B9\u5F0F\u767B\u5F55

#\u5F00\u542FRoot \u7528\u6237\u4F7F\u7528\u5BC6\u7801\u767B\u5F55
PermitRootLogin yes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91CD\u542Fssh\u670D\u52A1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart <span class="token function">ssh</span>
<span class="token comment">#\u6216\u8005</span>
<span class="token function">service</span> <span class="token function">ssh</span> restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="linux-\u8FDC\u7A0B\u5BC6\u94A5\u6A21\u5F0F\u767B\u9646" tabindex="-1"><a class="header-anchor" href="#linux-\u8FDC\u7A0B\u5BC6\u94A5\u6A21\u5F0F\u767B\u9646" aria-hidden="true">#</a> Linux \u8FDC\u7A0B\u5BC6\u94A5\u6A21\u5F0F\u767B\u9646</h2><blockquote><p>\u5728Linux \u670D\u52A1\u5668\u4E0A\u8FDB\u884C\u521B\u5EFA\u5BC6\u94A5\u65F6\uFF0C\u8FDB\u884C\u5F53\u524D\u7528\u6237\u767B\u9646\u662F\u5DF2\u5F53\u524D\u7528\u6237\u521B\u5EFA\u7684\uFF0C\u8FDB\u884C\u8FDC\u7A0B\u767B\u9646\u65F6\uFF0C\u53EF\u8F93\u5165\u5F53\u524D\u7528\u6237\u7684\u540D\u79F0\u53EF\u76F4\u63A5\u8FDB\u884C\u767B\u9646\u3002\u4F46\u662F\u8F93\u5165\u5176\u4ED6\u7528\u6237\u65F6\uFF0C\u4F1A\u7206\u62D2\u7EDD\u8BBF\u95EE\uFF0C\u540C\u65F6\u8981\u6C42\u8F93\u5165\u5BC6\u7801\u8FDB\u884C\u767B\u9646\u3002\uFF08\u5F53\u7981\u6B62\u5BC6\u7801\u8FDB\u884C\u767B\u9646\u65F6\u5C31\u53EA \u5141\u8BB8\u5F53\u524D\u7528\u6237\u8FDB\u884C\u767B\u9646\uFF09</p></blockquote><h3 id="\u5236\u4F5C\u5BC6\u94A5\u5BF9" tabindex="-1"><a class="header-anchor" href="#\u5236\u4F5C\u5BC6\u94A5\u5BF9" aria-hidden="true">#</a> \u5236\u4F5C\u5BC6\u94A5\u5BF9</h3><div class="language-\u7EAF\u6587\u672C ext-\u7EAF\u6587\u672C line-numbers-mode"><pre class="language-\u7EAF\u6587\u672C"><code>\u9996\u5148\u5728\u670D\u52A1\u5668\u4E0A\u5236\u4F5C\u5BC6\u94A5\u5BF9\u3002\u9996\u5148\u7528\u5BC6\u7801\u767B\u5F55\u5230\u4F60\u6253\u7B97\u4F7F\u7528\u5BC6\u94A5\u767B\u5F55\u7684\u8D26\u6237\uFF0C\u7136\u540E\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF1A

[root@host ~]$ ssh-keygen  &lt;== \u5EFA\u7ACB\u5BC6\u94A5\u5BF9
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa): &lt;== \u6309 Enter
Created directory &#39;/root/.ssh&#39;.
Enter passphrase (empty for no passphrase): &lt;== \u8F93\u5165\u5BC6\u94A5\u9501\u7801\uFF0C\u6216\u76F4\u63A5\u6309 Enter \u7559\u7A7A
Enter same passphrase again: &lt;== \u518D\u8F93\u5165\u4E00\u904D\u5BC6\u94A5\u9501\u7801

Your identification has been saved in /root/.ssh/id_rsa. &lt;== \u79C1\u94A5
Your public key has been saved in /root/.ssh/id_rsa.pub. &lt;== \u516C\u94A5

The key fingerprint is:
0f:d3:e7:1a:1c:bd:5c:03:f1:19:f1:22:df:9b:cc:08 root@host
\u5BC6\u94A5\u9501\u7801\u5728\u4F7F\u7528\u79C1\u94A5\u65F6\u5FC5\u987B\u8F93\u5165\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u4FDD\u62A4\u79C1\u94A5\u4E0D\u88AB\u76D7\u7528\u3002\u5F53\u7136\uFF0C\u4E5F\u53EF\u4EE5\u7559\u7A7A\uFF0C\u5B9E\u73B0\u65E0\u5BC6\u7801\u767B\u5F55\u3002

\u73B0\u5728\uFF0C\u5728 root \u7528\u6237\u7684\u5BB6\u76EE\u5F55\u4E2D\u751F\u6210\u4E86\u4E00\u4E2A .ssh \u7684\u9690\u85CF\u76EE\u5F55\uFF0C\u5185\u542B\u4E24\u4E2A\u5BC6\u94A5\u6587\u4EF6\u3002id_rsa \u4E3A\u79C1\u94A5\uFF0Cid_rsa.pub \u4E3A\u516C\u94A5\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5728\u670D\u52A1\u5668\u4E0A\u5B89\u88C5\u516C\u94A5" tabindex="-1"><a class="header-anchor" href="#\u5728\u670D\u52A1\u5668\u4E0A\u5B89\u88C5\u516C\u94A5" aria-hidden="true">#</a> \u5728\u670D\u52A1\u5668\u4E0A\u5B89\u88C5\u516C\u94A5</h3><div class="language-\u7EAF\u6587\u672C ext-\u7EAF\u6587\u672C line-numbers-mode"><pre class="language-\u7EAF\u6587\u672C"><code>\u952E\u5165\u4EE5\u4E0B\u547D\u4EE4\uFF0C\u5728\u670D\u52A1\u5668\u4E0A\u5B89\u88C5\u516C\u94A5\uFF1A

[root@host ~]$ cd .ssh
[root@host .ssh]$ cat id_rsa.pub &gt;&gt; authorized_keys
\u5982\u6B64\u4FBF\u5B8C\u6210\u4E86\u516C\u94A5\u7684\u5B89\u88C5\u3002\u4E3A\u4E86\u786E\u4FDD\u8FDE\u63A5\u6210\u529F\uFF0C\u8BF7\u4FDD\u8BC1\u4EE5\u4E0B\u6587\u4EF6\u6743\u9650\u6B63\u786E\uFF1A
[root@host .ssh]$ chmod 600 authorized_keys
[root@host .ssh]$ chmod 700 ~/.ssh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8BBE\u7F6E-ssh-\u6253\u5F00\u5BC6\u94A5\u767B\u5F55\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E-ssh-\u6253\u5F00\u5BC6\u94A5\u767B\u5F55\u529F\u80FD" aria-hidden="true">#</a> \u8BBE\u7F6E SSH\uFF0C\u6253\u5F00\u5BC6\u94A5\u767B\u5F55\u529F\u80FD</h3><p>\u7F16\u8F91 /etc/ssh/sshd_config \u6587\u4EF6\uFF0C\u8FDB\u884C\u5982\u4E0B\u8BBE\u7F6E\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/ssh/sshd_config 

RSAAuthentication <span class="token function">yes</span>
PubkeyAuthentication <span class="token function">yes</span>
<span class="token comment">#\u53E6\u5916\uFF0C\u8BF7\u7559\u610F root \u7528\u6237\u80FD\u5426\u901A\u8FC7 SSH \u767B\u5F55\uFF1A</span>
PermitRootLogin <span class="token function">yes</span>


<span class="token comment">#\u5F53\u4F60\u5B8C\u6210\u5168\u90E8\u8BBE\u7F6E\uFF0C\u5E76\u4EE5\u5BC6\u94A5\u65B9\u5F0F\u767B\u5F55\u6210\u529F\u540E\uFF0C\u518D\u7981\u7528\u5BC6\u7801\u767B\u5F55\uFF1A</span>
PasswordAuthentication no
<span class="token comment">#\u6700\u540E\uFF0C\u91CD\u542F SSH \u670D\u52A1\uFF1A</span>

<span class="token punctuation">[</span>root@host .ssh<span class="token punctuation">]</span>$ <span class="token function">service</span> sshd restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,46),l=[d];function r(c,t){return n(),e("div",null,l)}var u=s(i,[["render",r],["__file","Ubuntu\u8BBE\u7F6E\u8FDC\u7A0B\u767B\u9646.html.vue"]]);export{u as default};

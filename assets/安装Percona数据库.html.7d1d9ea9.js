import{_ as r,r as l,o as c,c as o,b as s,d as e,a as i,e as a}from"./app.4a9c1875.js";const d={},t=i('<h1 id="\u5B89\u88C5percona\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5percona\u6570\u636E\u5E93" aria-hidden="true">#</a> \u5B89\u88C5Percona\u6570\u636E\u5E93</h1><h2 id="_1\u3001\u672C\u5730\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u672C\u5730\u5B89\u88C5" aria-hidden="true">#</a> 1\u3001\u672C\u5730\u5B89\u88C5</h2><h3 id="_1\u3001\u672C\u5730\u5B89\u88C5-1" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u672C\u5730\u5B89\u88C5-1" aria-hidden="true">#</a> 1\u3001\u672C\u5730\u5B89\u88C5</h3><h4 id="_1-1\u3001\u79BB\u7EBF\u5B89\u88C5percona\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#_1-1\u3001\u79BB\u7EBF\u5B89\u88C5percona\u6570\u636E\u5E93" aria-hidden="true">#</a> 1.1\u3001\u79BB\u7EBF\u5B89\u88C5Percona\u6570\u636E\u5E93</h4>',4),p={href:"https://www.percona.com/downloads/",target:"_blank",rel:"noopener noreferrer"},u=a("\u70B9\u51FB\u4E0B\u8F7D\u5177\u4F53\u7684Mysql\u7684\u76F8\u5173\u7684\u7248\u672C"),v=i(`<p>\u8FDB\u5165RPM\u5B89\u88C5\u6587\u4EF6\u76EE\u5F55\uFF0C\u6267\u884C\u4E0B\u9762\u7684\u811A\u672C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum localinstall *.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7BA1\u7406MySQL\u670D\u52A1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl start mysqld
systemctl stop mysqld
systemctl restart mysqld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2\u3001\u5728\u7EBF\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_1-2\u3001\u5728\u7EBF\u5B89\u88C5" aria-hidden="true">#</a> 1.2\u3001\u5728\u7EBF\u5B89\u88C5</h4><p>\u4F7F\u7528yum\u547D\u4EE4\u5B89\u88C5</p>`,6),m={href:"https://www.percona.com/downloads/",target:"_blank",rel:"noopener noreferrer"},h=a("\u70B9\u51FB\u67E5\u8BE2\u5177\u4F53\u7684Mysql\u7684\u76F8\u5173\u7684\u7248\u672C\u94FE\u63A5"),b=i(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> http://www.percona.com/downloads/percona-release/redhat/0.1-3/percona-release-0.1-3.noarch.rpm
yum  <span class="token function">install</span>  Percona-Server-server-57
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3\u3001\u7BA1\u7406\u76F8\u5173\u7684pxc-\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#_1-3\u3001\u7BA1\u7406\u76F8\u5173\u7684pxc-\u670D\u52A1" aria-hidden="true">#</a> 1.3\u3001\u7BA1\u7406\u76F8\u5173\u7684PXC \u670D\u52A1</h4><p>\u7BA1\u7406MySQL\u670D\u52A1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl start mysqld
systemctl stop mysqld
systemctl restart mysqld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-\u5F00\u653E\u9632\u706B\u5899\u7AEF\u53E3" tabindex="-1"><a class="header-anchor" href="#_2-\u5F00\u653E\u9632\u706B\u5899\u7AEF\u53E3" aria-hidden="true">#</a> 2. \u5F00\u653E\u9632\u706B\u5899\u7AEF\u53E3</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp --permanent
firewall-cmd --reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-\u4FEE\u6539mysql\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3-\u4FEE\u6539mysql\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 3. \u4FEE\u6539MySQL\u914D\u7F6E\u6587\u4EF6</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /etc/my.cnf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">character_set_server</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8</span>
<span class="token key attr-name">bind-address</span> <span class="token punctuation">=</span> <span class="token value attr-value">0.0.0.0</span>
<span class="token comment">#\u8DF3\u8FC7DNS\u89E3\u6790</span>
skip-name-resolve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">service</span> mysql restart 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-\u4FEE\u6539\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_4-\u4FEE\u6539\u6570\u636E" aria-hidden="true">#</a> 4. \u4FEE\u6539\u6570\u636E</h3><ul><li><p>\u67E5\u770BMySQL\u521D\u59CB\u5BC6\u7801</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> /var/log/mysqld.log <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;A temporary password&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u4FEE\u6539MySQL\u5BC6\u7801</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mysql_secure_installation
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u521B\u5EFA\u8FDC\u7A0B\u7BA1\u7406\u5458\u8D26\u6237</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> mysql -u root -p
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;admin&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;Abc_123456&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;admin&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="_2\u3001docker-\u5BB9\u5668\u5B89\u88C5-\u63A8\u8350" tabindex="-1"><a class="header-anchor" href="#_2\u3001docker-\u5BB9\u5668\u5B89\u88C5-\u63A8\u8350" aria-hidden="true">#</a> 2\u3001Docker \u5BB9\u5668\u5B89\u88C5\uFF08\u63A8\u8350\uFF09</h2>`,13),k={href:"https://github.com/percona/percona-docker",target:"_blank",rel:"noopener noreferrer"},g=a("Docker \u8FD0\u884C\u53C2\u6570\u8BF4\u660E"),_=i(`<h3 id="_1-\u62C9\u8D77\u8FDC\u7A0B\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_1-\u62C9\u8D77\u8FDC\u7A0B\u955C\u50CF" aria-hidden="true">#</a> 1.\u62C9\u8D77\u8FDC\u7A0B\u955C\u50CF</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#docker \u62C9\u8D77\u955C\u50CF \u9ED8\u8BA4\u4E3Alatest</span>
<span class="token function">docker</span> pull percona/percona-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-\u521B\u5EFA\u672C\u5730\u6302\u8F7D\u7684\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-\u521B\u5EFA\u672C\u5730\u6302\u8F7D\u7684\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2.\u521B\u5EFA\u672C\u5730\u6302\u8F7D\u7684\u914D\u7F6E\u6587\u4EF6</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Percona Server template configuration</span>
<span class="token comment">#</span>
<span class="token comment"># For advice on how to change settings please see</span>
<span class="token comment"># http://dev.mysql.com/doc/refman/8.0/en/server-configuration-defaults.html</span>

<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token assign-left variable">datadir</span><span class="token operator">=</span>/var/lib/mysql
<span class="token assign-left variable">socket</span><span class="token operator">=</span>/var/lib/mysql/mysql.sock
<span class="token comment">#log-error=/var/log/mysqld.log</span>
pid-file<span class="token operator">=</span>/var/run/mysqld/mysqld.pid
<span class="token operator">!</span>includedir /etc/my.cnf.d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-\u542F\u52A8docker" tabindex="-1"><a class="header-anchor" href="#_3-\u542F\u52A8docker" aria-hidden="true">#</a> 3.\u542F\u52A8docker</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># docker \u8FD0\u884C PXC 8.0 \u5BC6\u7801\u4E3A123456</span>
<span class="token function">docker</span> run --name percona-server <span class="token punctuation">\\</span>
--mount <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,src<span class="token operator">=</span><span class="token environment constant">$PWD</span>/my.cnf,dst<span class="token operator">=</span>/etc/my.cnf <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token punctuation">\\</span>
--network mynetwork --ip <span class="token number">172.18</span>.0.1 <span class="token punctuation">\\</span>
--privileged<span class="token operator">=</span>true <span class="token punctuation">\\</span>
--restart<span class="token operator">=</span>always <span class="token punctuation">\\</span>
-d -i -p <span class="token number">3300</span>:3306 percona/percona-server:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TokuDB \u5177\u4F53\u914D\u7F6E\u53C2\u8003\uFF1A</p>`,7),f={href:"https://github.com/percona/percona-docker",target:"_blank",rel:"noopener noreferrer"},y=a("Docker \u914D\u7F6E\u8BF4\u660E"),x=i(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name some <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">INIT_TOKUDB</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\\</span>
--privileged<span class="token operator">=</span>true <span class="token punctuation">\\</span>
--restart<span class="token operator">=</span>always <span class="token punctuation">\\</span>
-d -i -p <span class="token number">3300</span>:3306 percona/percona-server:5.6.28
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-mysql-\u5FD8\u8BB0\u5BC6\u7801" tabindex="-1"><a class="header-anchor" href="#_4-mysql-\u5FD8\u8BB0\u5BC6\u7801" aria-hidden="true">#</a> 4. Mysql \u5FD8\u8BB0\u5BC6\u7801</h3><p>\u4FEE\u6539\u672C\u5730\u7684\u6302\u8F7D\u7684<strong>my.cnf</strong>\u914D\u7F6E\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span> 
<span class="token punctuation">..</span>.
<span class="token comment"># \u6DFB\u52A0 \u8DF3\u8FC7\u7684\u9A8C\u8BC1\u7684\u4EE3\u7801 </span>
skip-grant-tables
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u91CD\u542F docker</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u7136\u540E\u76F4\u63A5\u8F93\u5165mysql \u76F4\u63A5\u56DE\u8F66\u8FDB\u5165mysql</span>
mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3\u3001\u5907\u6CE8" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u5907\u6CE8" aria-hidden="true">#</a> 3\u3001\u5907\u6CE8</h2><p>\u8FDB\u5165 MySQL \u540E\u8F93\u5165</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>show engines; 
 
show plugins;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528 root \u8EAB\u4EFD\u8FDB\u5165\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -ti -u root <span class="token function">ps</span> <span class="token function">bash</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5B89\u88C5TokuDB</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ps_tokudb_admin --enable -uroot -p
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u70B9\u51FB RockDB \u5B89\u88C5\u6587\u6863\uFF0C\u9009\u62E9\u5B89\u88C5TokuDB\u6216RockDB(\u63A8\u8350)\u67E5\u770B\u76F8\u5173\u547D\u4EE4\uFF0C\u7136\u540E\u6267\u884C\u76F8\u5173\u547D\u4EE4</p>`,14),q={href:"https://www.percona.com/doc/percona-server/LATEST/index.html",target:"_blank",rel:"noopener noreferrer"},w=a("Percona-Server 8.0\u6587\u6863"),S={href:"https://www.percona.com/doc/percona-server/5.7/index.html",target:"_blank",rel:"noopener noreferrer"},D=a("Percona-Server 5.7\u6587\u6863"),T={href:"https://www.percona.com/blog/2021/05/21/tokudb-support-changes-and-future-removal-from-percona-server-for-mysql-8-0/",target:"_blank",rel:"noopener noreferrer"},P=a("TokuDB\u5E9F\u5F03\u8BF4\u660E"),L=i(`<blockquote><p>conf \u6743\u9650\u8BBE\u7F6E\u4E3A 775</p><p>data \u6743\u9650\u8BBE\u7F6E\u4E3A 777</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name <span class="token function">ps</span> <span class="token punctuation">\\</span>
-v /opt/docker/percona-server/conf/my.conf:/etc/my.cnf <span class="token punctuation">\\</span>
-v /opt/docker/percona-server/data:/var/lib/mysql <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">INIT_ROCKDB</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token punctuation">\\</span>
--privileged<span class="token operator">=</span>true <span class="token punctuation">\\</span>
--restart<span class="token operator">=</span>always <span class="token punctuation">\\</span>
-d -i -t -p <span class="token number">3306</span>:3306 percona/percona-server:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function R(M,O){const n=l("ExternalLinkIcon");return c(),o("div",null,[t,s("p",null,[s("a",p,[u,e(n)])]),v,s("p",null,[s("a",m,[h,e(n)])]),b,s("p",null,[s("a",k,[g,e(n)])]),_,s("p",null,[s("a",f,[y,e(n)])]),x,s("p",null,[s("a",q,[w,e(n)])]),s("p",null,[s("a",S,[D,e(n)])]),s("p",null,[s("a",T,[P,e(n)])]),L])}var E=r(d,[["render",R],["__file","\u5B89\u88C5Percona\u6570\u636E\u5E93.html.vue"]]);export{E as default};

import{_ as o,r as p,o as i,c,b as n,d as t,e as s,a as e}from"./app.4a9c1875.js";const l={},u=n("h1",{id:"spring-boot-\u4F7F\u7528-junit5\u6D4B\u8BD5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#spring-boot-\u4F7F\u7528-junit5\u6D4B\u8BD5","aria-hidden":"true"},"#"),s(" Spring Boot \u4F7F\u7528 Junit5\u6D4B\u8BD5")],-1),r=n("h2",{id:"junit5\u6CE8\u89E3",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#junit5\u6CE8\u89E3","aria-hidden":"true"},"#"),s(" Junit5\u6CE8\u89E3")],-1),d=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"\u6CE8\u89E3"),n("th",{style:{"text-align":"left"}},"\u63CF\u8FF0")])],-1),k=n("tr",null,[n("td",{style:{"text-align":"left"}},"@Test"),n("td",{style:{"text-align":"left"}},[s("\u8868\u793A\u65B9\u6CD5\u662F\u6D4B\u8BD5\u65B9\u6CD5\u3002\u4E0E JUnit 4 \u7684\u6CE8\u91CA\u4E0D\u540C\uFF0C\u6B64\u6CE8\u91CA\u4E0D\u58F0\u660E\u4EFB\u4F55\u5C5E\u6027\uFF0C\u56E0\u4E3A JUnit Jupiter \u4E2D\u7684\u6D4B\u8BD5\u6269\u5C55\u57FA\u4E8E\u5176\u81EA\u5DF1\u7684\u4E13\u7528\u6CE8\u91CA\u8FDB\u884C\u64CD\u4F5C\u3002\u9664\u975E"),n("em",null,"\u91CD\u5199\u8FD9\u4E9B"),s("\u65B9\u6CD5\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B"),n("em",null,"\u65B9\u6CD5\u3002"),s("@Test")])],-1),v=n("td",{style:{"text-align":"left"}},"@ParameterizedTest",-1),h={style:{"text-align":"left"}},_=s("\u8868\u793A\u65B9\u6CD5\u662F"),m={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-parameterized-tests",target:"_blank",rel:"noopener noreferrer"},g=s("\u53C2\u6570\u5316\u6D4B\u8BD5"),b=s("\u3002\u9664\u975E"),f=n("em",null,"\u91CD\u5199\u8FD9\u4E9B",-1),y=s("\u65B9\u6CD5\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B"),x=n("em",null,"\u65B9\u6CD5\u3002",-1),T=n("td",{style:{"text-align":"left"}},"@RepeatedTest",-1),w={style:{"text-align":"left"}},j=s("\u8868\u793A\u65B9\u6CD5\u662F\u91CD\u590D\u6D4B\u8BD5\u7684"),q={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-repeated-tests",target:"_blank",rel:"noopener noreferrer"},S=s("\u6D4B\u8BD5"),M=s("\u6A21\u677F\u3002\u9664\u975E"),C=n("em",null,"\u91CD\u5199\u8FD9\u4E9B",-1),B=s("\u65B9\u6CD5\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B"),A=n("em",null,"\u65B9\u6CD5\u3002",-1),D=n("td",{style:{"text-align":"left"}},"@TestFactory",-1),E={style:{"text-align":"left"}},W=s("\u8868\u793A\u65B9\u6CD5\u662F"),N={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-dynamic-tests",target:"_blank",rel:"noopener noreferrer"},R=s("\u7528\u4E8E\u52A8\u6001"),J=s("\u6D4B\u8BD5\u7684\u6D4B\u8BD5\u5DE5\u5382\u3002\u9664\u975E"),P=n("em",null,"\u91CD\u5199\u8FD9\u4E9B",-1),F=s("\u65B9\u6CD5\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B"),I=n("em",null,"\u65B9\u6CD5\u3002",-1),O=n("td",{style:{"text-align":"left"}},"@TestTemplate",-1),U={style:{"text-align":"left"}},V=s("\u8868\u793A\u65B9\u6CD5\u662F\u6D4B\u8BD5"),z={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-test-templates",target:"_blank",rel:"noopener noreferrer"},L=s("\u7528\u4F8B\u7684\u6A21\u677F"),H=s("\uFF0C\u8BBE\u8BA1\u4E3A\u6839\u636E\u5DF2\u6CE8\u518C\u7684"),Q={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#extensions-test-templates",target:"_blank",rel:"noopener noreferrer"},G=s("\u63D0\u4F9B\u7A0B\u5E8F"),K=s("\u8FD4\u56DE\u7684\u8C03\u7528\u4E0A\u4E0B\u6587\u6570\u591A\u6B21\u8C03\u7528\u3002\u9664\u975E"),X=n("em",null,"\u91CD\u5199\u8FD9\u4E9B",-1),Y=s("\u65B9\u6CD5\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B"),Z=n("em",null,"\u65B9\u6CD5\u3002",-1),$=n("td",{style:{"text-align":"left"}},"@TestMethodOrder",-1),nn={style:{"text-align":"left"}},sn=s("\u7528\u4E8E\u4E3A\u5E26\u6CE8\u91CA\u7684\u6D4B\u8BD5\u7C7B\u914D\u7F6E\u6D4B\u8BD5"),an={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-test-execution-order",target:"_blank",rel:"noopener noreferrer"},tn=s("\u65B9\u6CD5\u6267\u884C\u987A\u5E8F"),en=s(";\u7C7B\u4F3C\u4E8E JUnit 4 \u7684 .\u6B64\u7C7B\u6279\u6CE8\u662F"),on=n("em",null,"\u7EE7\u627F\u7684",-1),pn=s("\u3002@FixMethodOrder"),cn=n("td",{style:{"text-align":"left"}},"@TestInstance",-1),ln={style:{"text-align":"left"}},un=s("\u7528\u4E8E\u4E3A\u5E26\u6279\u6CE8\u7684\u6D4B\u8BD5\u7C7B\u914D\u7F6E\u6D4B\u8BD5"),rn={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-test-instance-lifecycle",target:"_blank",rel:"noopener noreferrer"},dn=s("\u5B9E\u4F8B\u751F\u547D\u5468\u671F"),kn=s("\u3002\u6B64\u7C7B\u6279\u6CE8\u662F"),vn=n("em",null,"\u7EE7\u627F\u7684",-1),hn=s("\u3002"),_n=n("td",{style:{"text-align":"left"}},"@DisplayName",-1),mn={style:{"text-align":"left"}},gn=s("\u58F0\u660E\u6D4B\u8BD5\u7C7B\u6216\u6D4B\u8BD5\u65B9\u6CD5\u7684\u81EA\u5B9A\u4E49"),bn={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-display-names",target:"_blank",rel:"noopener noreferrer"},fn=s("\u663E\u793A\u540D\u79F0"),yn=s("\u3002\u6B64\u7C7B\u6279\u6CE8\u4E0D\u4F1A"),xn=n("em",null,"\u88AB\u7EE7\u627F",-1),Tn=s("\u3002"),wn=n("td",{style:{"text-align":"left"}},"@DisplayNameGeneration",-1),jn={style:{"text-align":"left"}},qn=s("\u58F0\u660E\u6D4B\u8BD5\u7C7B\u7684\u81EA\u5B9A\u4E49"),Sn={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-display-name-generator",target:"_blank",rel:"noopener noreferrer"},Mn=s("\u663E\u793A\u540D\u79F0\u751F\u6210\u5668"),Cn=s("\u3002\u6B64\u7C7B\u6279\u6CE8\u662F"),Bn=n("em",null,"\u7EE7\u627F\u7684",-1),An=s("\u3002"),Dn=n("tr",null,[n("td",{style:{"text-align":"left"}},"@BeforeEach"),n("td",{style:{"text-align":"left"}},[s("\u8868\u793A\u5E26\u6CE8\u91CA\u7684\u65B9\u6CD5\u5E94\u5728\u5F53\u524D\u7C7B\u4E2D\u7684\u6BCF\u4E2A \u3001 \u3001 \u6216\u65B9\u6CD5"),n("em",null,"\u4E4B\u524D"),s("\u6267\u884C;\u7C7B\u4F3C\u4E8E JUnit 4 \u7684 .\u9664\u975E"),n("em",null,"\u91CD\u5199\u8FD9\u4E9B"),s("\u65B9\u6CD5\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B"),n("em",null,"\u65B9\u6CD5\u3002"),s("@Test@RepeatedTest@ParameterizedTest@TestFactory@Before")])],-1),En=n("tr",null,[n("td",{style:{"text-align":"left"}},"@AfterEach"),n("td",{style:{"text-align":"left"}},[s("\u8868\u793A\u5E26\u6CE8\u91CA\u7684\u65B9\u6CD5\u5E94\u5728\u5F53\u524D\u7C7B\u4E2D\u7684\u6BCF\u4E2A \u3001 \u3001 \u6216\u65B9\u6CD5"),n("em",null,"\u4E4B\u540E"),s("\u6267\u884C;\u7C7B\u4F3C\u4E8E JUnit 4 \u7684 .\u9664\u975E"),n("em",null,"\u91CD\u5199\u8FD9\u4E9B"),s("\u65B9\u6CD5\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B"),n("em",null,"\u65B9\u6CD5\u3002"),s("@Test@RepeatedTest@ParameterizedTest@TestFactory@After")])],-1),Wn=n("td",{style:{"text-align":"left"}},"@BeforeAll",-1),Nn={style:{"text-align":"left"}},Rn=s("\u8868\u793A\u5E26\u6CE8\u91CA\u7684\u65B9\u6CD5\u5E94\u5728\u5F53\u524D\u7C7B\u4E2D\u7684\u6240\u6709 \u3001 \u3001 \u548C\u65B9\u6CD5"),Jn=n("em",null,"\u4E4B\u524D",-1),Pn=s("\u6267\u884C;\u7C7B\u4F3C\u4E8E JUnit 4 \u7684 .\u6B64\u7C7B\u65B9\u6CD5\u662F"),Fn=n("em",null,"\u7EE7\u627F\u7684",-1),In=s("\uFF08\u9664\u975E\u5B83\u4EEC\u88AB"),On=n("em",null,"\u9690\u85CF",-1),Un=s("\u6216"),Vn=n("em",null,"\u91CD\u5199",-1),zn=s("\uFF09\uFF0C\u5E76\u4E14\u5FC5\u987B\u7EE7\u627F\uFF08\u9664\u975E\u4F7F\u7528\u201C\u6BCF\u7C7B\u201D"),Ln={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-test-instance-lifecycle",target:"_blank",rel:"noopener noreferrer"},Hn=s("\u6D4B\u8BD5\u5B9E\u4F8B\u751F\u547D\u5468\u671F"),Qn=s("\uFF09\u3002@Test@RepeatedTest@ParameterizedTest@TestFactory@BeforeClassstatic"),Gn=n("td",{style:{"text-align":"left"}},"@AfterAll",-1),Kn={style:{"text-align":"left"}},Xn=s("\u8868\u793A\u5E26\u6CE8\u91CA\u7684\u65B9\u6CD5\u5E94\u5728\u5F53\u524D\u7C7B\u4E2D\u7684\u6240\u6709 \u3001 \u3001 \u548C\u65B9\u6CD5"),Yn=n("em",null,"\u4E4B\u540E",-1),Zn=s("\u6267\u884C;\u7C7B\u4F3C\u4E8E JUnit 4 \u7684 .\u6B64\u7C7B\u65B9\u6CD5\u662F"),$n=n("em",null,"\u7EE7\u627F\u7684",-1),ns=s("\uFF08\u9664\u975E\u5B83\u4EEC\u88AB"),ss=n("em",null,"\u9690\u85CF",-1),as=s("\u6216"),ts=n("em",null,"\u91CD\u5199",-1),es=s("\uFF09\uFF0C\u5E76\u4E14\u5FC5\u987B\u7EE7\u627F\uFF08\u9664\u975E\u4F7F\u7528\u201C\u6BCF\u7C7B\u201D"),os={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-test-instance-lifecycle",target:"_blank",rel:"noopener noreferrer"},ps=s("\u6D4B\u8BD5\u5B9E\u4F8B\u751F\u547D\u5468\u671F"),is=s("\uFF09\u3002@Test@RepeatedTest@ParameterizedTest@TestFactory@AfterClassstatic"),cs=n("td",{style:{"text-align":"left"}},"@Nested",-1),ls={style:{"text-align":"left"}},us=s("\u8868\u793A\u5E26\u6279\u6CE8\u7684\u7C7B\u662F\u975E\u9759\u6001"),rs={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-nested",target:"_blank",rel:"noopener noreferrer"},ds=s("\u5D4C\u5957\u6D4B\u8BD5\u7C7B"),ks=s("\u3002 \u548C\u65B9\u6CD5\u4E0D\u80FD\u76F4\u63A5\u5728\u6D4B\u8BD5\u7C7B\u4E2D\u4F7F\u7528\uFF0C\u9664\u975E\u4F7F\u7528\u201C\u6BCF\u7C7B\u201D"),vs={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-test-instance-lifecycle",target:"_blank",rel:"noopener noreferrer"},hs=s("\u6D4B\u8BD5\u5B9E\u4F8B\u751F\u547D\u5468\u671F"),_s=s("\u3002\u6B64\u7C7B\u6279\u6CE8\u4E0D\u4F1A"),ms=n("em",null,"\u88AB\u7EE7\u627F",-1),gs=s("\u3002@BeforeAll@AfterAll@Nested"),bs=n("td",{style:{"text-align":"left"}},"@Tag",-1),fs={style:{"text-align":"left"}},ys=s("\u7528\u4E8E\u5728\u7C7B\u6216\u65B9\u6CD5\u7EA7\u522B\u58F0\u660E"),xs={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-tagging-and-filtering",target:"_blank",rel:"noopener noreferrer"},Ts=s("\u7528\u4E8E\u7B5B\u9009\u6D4B\u8BD5\u7684\u6807\u8BB0"),ws=s(";\u7C7B\u4F3C\u4E8E TestNG \u4E2D\u7684\u6D4B\u8BD5\u7EC4\u6216 JUnit 4 \u4E2D\u7684\u7C7B\u522B\u3002\u6B64\u7C7B\u6279\u6CE8\u5728\u7C7B\u7EA7\u522B"),js=n("em",null,"\u7EE7\u627F",-1),qs=s("\uFF0C\u4F46\u4E0D\u5728\u65B9\u6CD5\u7EA7\u522B\u7EE7\u627F\u3002"),Ss=n("td",{style:{"text-align":"left"}},"@Disabled",-1),Ms={style:{"text-align":"left"}},Cs=s("\u7528\u4E8E"),Bs={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-disabling",target:"_blank",rel:"noopener noreferrer"},As=s("\u7981\u7528"),Ds=s("\u6D4B\u8BD5\u7C7B\u6216\u6D4B\u8BD5\u65B9\u6CD5;\u7C7B\u4F3C\u4E8E JUnit 4 \u7684 .\u6B64\u7C7B\u6279\u6CE8\u4E0D\u4F1A"),Es=n("em",null,"\u88AB\u7EE7\u627F",-1),Ws=s("\u3002@Ignore"),Ns=n("tr",null,[n("td",{style:{"text-align":"left"}},"@Timeout"),n("td",{style:{"text-align":"left"}},[s("\u7528\u4E8E\u5728\u6D4B\u8BD5\u3001\u6D4B\u8BD5\u5DE5\u5382\u3001\u6D4B\u8BD5\u6A21\u677F\u6216\u751F\u547D\u5468\u671F\u65B9\u6CD5\u7684\u6267\u884C\u8D85\u8FC7\u7ED9\u5B9A\u6301\u7EED\u65F6\u95F4\u65F6\u4F7F\u5176\u5931\u8D25\u3002\u6B64\u7C7B\u6279\u6CE8\u662F"),n("em",null,"\u7EE7\u627F\u7684"),s("\u3002")])],-1),Rs=n("td",{style:{"text-align":"left"}},"@ExtendWith",-1),Js={style:{"text-align":"left"}},Ps=s("\u7528\u4E8E\u4EE5"),Fs={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#extensions-registration-declarative",target:"_blank",rel:"noopener noreferrer"},Is=s("\u58F0\u660E\u65B9\u5F0F\u6CE8\u518C\u6269\u5C55"),Os=s("\u3002\u6B64\u7C7B\u6279\u6CE8\u662F"),Us=n("em",null,"\u7EE7\u627F\u7684",-1),Vs=s("\u3002"),zs=n("td",{style:{"text-align":"left"}},"@RegisterExtension",-1),Ls={style:{"text-align":"left"}},Hs=s("\u7528\u4E8E\u901A\u8FC7\u5B57\u6BB5"),Qs={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#extensions-registration-programmatic",target:"_blank",rel:"noopener noreferrer"},Gs=s("\u4EE5\u7F16\u7A0B\u65B9\u5F0F\u6CE8\u518C\u6269\u5C55"),Ks=s("\u3002\u9664\u975E\u8FD9\u4E9B\u5B57\u6BB5"),Xs=n("em",null,"\u88AB\u9634\u5F71",-1),Ys=s("\u663E\u793A\uFF0C\u5426\u5219\u5C06\u7EE7\u627F\u8FD9\u4E9B\u5B57\u6BB5\u3002"),Zs=n("td",{style:{"text-align":"left"}},"@TempDir",-1),$s={style:{"text-align":"left"}},na=s("\u7528\u4E8E\u5728\u751F\u547D\u5468\u671F\u65B9\u6CD5\u6216\u6D4B\u8BD5\u65B9\u6CD5\u4E2D\u901A\u8FC7\u73B0\u573A\u6CE8\u5165\u6216\u53C2\u6570\u6CE8\u5165\u63D0\u4F9B"),sa={href:"https://junit.org/junit5/docs/5.8.0-M1/user-guide/#writing-tests-built-in-extensions-TempDirectory",target:"_blank",rel:"noopener noreferrer"},aa=s("\u4E34\u65F6\u76EE\u5F55"),ta=s(";\u4F4D\u4E8E\u5305\u4E2D\u3002org.junit.jupiter.api.io"),ea=e('<h3 id="junit-4\u8FC7\u6E21junit5" tabindex="-1"><a class="header-anchor" href="#junit-4\u8FC7\u6E21junit5" aria-hidden="true">#</a> Junit 4\u8FC7\u6E21junit5</h3><table><thead><tr><th style="text-align:center;">\u88AB\u5E9F\u5F03\u7684\u6CE8\u89E3</th><th style="text-align:center;">\u65B0\u7684\u7EE7\u4EFB\u8005</th></tr></thead><tbody><tr><td style="text-align:center;">Before</td><td style="text-align:center;">BeforeEach</td></tr><tr><td style="text-align:center;">After</td><td style="text-align:center;">AfterEach</td></tr><tr><td style="text-align:center;">BeforeClass</td><td style="text-align:center;">BeforeAll</td></tr><tr><td style="text-align:center;">AfterClass</td><td style="text-align:center;">AfterAll</td></tr><tr><td style="text-align:center;">Category</td><td style="text-align:center;">Tag</td></tr><tr><td style="text-align:center;">RunWith</td><td style="text-align:center;">ExtendWith</td></tr><tr><td style="text-align:center;">Rule</td><td style="text-align:center;">ExtendWith</td></tr><tr><td style="text-align:center;">ClassRule</td><td style="text-align:center;">RegisterExtension</td></tr></tbody></table><h2 id="\u5E38\u7528\u7684junit5\u6CE8\u89E3-springboot\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u7684junit5\u6CE8\u89E3-springboot\u73AF\u5883" aria-hidden="true">#</a> \u5E38\u7528\u7684JUnit5\u6CE8\u89E3(SpringBoot\u73AF\u5883)</h2><p>\u6CE8\u610F\uFF0C\u63A5\u4E0B\u6765\u63D0\u5230\u7684\u6D4B\u8BD5\u65B9\u6CD5\uFF0C\u662F\u6307\u5F53\u524Dclass\u4E2D\u6240\u6709\u88AB@Test\u3001@RepeatedTest\u3001@ParameterizedTest\u3001@TestFactory\u4FEE\u9970\u7684\u65B9\u6CD5\uFF1B</p><table><thead><tr><th style="text-align:center;">\u6CE8\u89E3</th><th style="text-align:left;">\u89E3\u91CA</th></tr></thead><tbody><tr><td style="text-align:center;">@ExtendWith</td><td style="text-align:left;">\u8FD9\u662F\u7528\u6765\u53D6\u4EE3\u65E7\u7248\u672C\u4E2D\u7684RunWith\u6CE8\u89E3\uFF0C\u4E0D\u8FC7\u5728SpringBoot\u73AF\u5883\u5982\u679C\u6CA1\u6709\u7279\u522B\u8981\u6C42\u65E0\u9700\u989D\u5916\u914D\u7F6E\uFF0C\u56E0\u4E3ASpringBootTest\u4E2D\u5DF2\u7ECF\u6709\u4E86</td></tr><tr><td style="text-align:center;">@Test</td><td style="text-align:left;">\u88AB\u8BE5\u6CE8\u89E3\u4FEE\u9970\u7684\u5C31\u662F\u6D4B\u8BD5\u65B9\u6CD5</td></tr><tr><td style="text-align:center;">@BeforeAll</td><td style="text-align:left;">\u88AB\u8BE5\u6CE8\u89E3\u4FEE\u9970\u7684\u5FC5\u987B\u662F\u9759\u6001\u65B9\u6CD5\uFF0C\u4F1A\u5728\u6240\u6709\u6D4B\u8BD5\u65B9\u6CD5\u4E4B\u524D\u6267\u884C\uFF0C\u4F1A\u88AB\u5B50\u7C7B\u7EE7\u627F\uFF0C\u53D6\u4EE3\u4F4E\u7248\u672C\u7684BeforeClass\uFF1B</td></tr><tr><td style="text-align:center;">@AfterAll</td><td style="text-align:left;">\u88AB\u8BE5\u6CE8\u89E3\u4FEE\u9970\u7684\u5FC5\u987B\u662F\u9759\u6001\u65B9\u6CD5\uFF0C\u4F1A\u5728\u6240\u6709\u6D4B\u8BD5\u65B9\u6CD5\u6267\u884C\u4E4B\u540E\u624D\u88AB\u6267\u884C\uFF0C\u4F1A\u88AB\u5B50\u7C7B\u7EE7\u627F\uFF0C\u53D6\u4EE3\u4F4E\u7248\u672C\u7684AfterClass\uFF1B</td></tr><tr><td style="text-align:center;">@BeforeEach</td><td style="text-align:left;">\u88AB\u8BE5\u6CE8\u89E3\u4FEE\u9970\u7684\u65B9\u6CD5\u4F1A\u5728\u6BCF\u4E2A\u6D4B\u8BD5\u65B9\u6CD5\u6267\u884C\u524D\u88AB\u6267\u884C\u4E00\u6B21\uFF0C\u4F1A\u88AB\u5B50\u7C7B\u7EE7\u627F\uFF0C\u53D6\u4EE3\u4F4E\u7248\u672C\u7684Before</td></tr><tr><td style="text-align:center;">@AfterEach</td><td style="text-align:left;">\u88AB\u8BE5\u6CE8\u89E3\u4FEE\u9970\u7684\u65B9\u6CD5\u4F1A\u5728\u6BCF\u4E2A\u6D4B\u8BD5\u65B9\u6CD5\u6267\u884C\u540E\u88AB\u6267\u884C\u4E00\u6B21\uFF0C\u4F1A\u88AB\u5B50\u7C7B\u7EE7\u627F\uFF0C\u53D6\u4EE3\u4F4E\u7248\u672C\u7684Before\uFF1B</td></tr><tr><td style="text-align:center;">@DisplayName</td><td style="text-align:left;">\u6D4B\u8BD5\u65B9\u6CD5\u7684\u5C55\u73B0\u540D\u79F0\uFF0C\u5728\u6D4B\u8BD5\u6846\u67B6\u4E2D\u5C55\u793A\uFF0C\u652F\u6301emoji\uFF1B</td></tr><tr><td style="text-align:center;">@Timeout</td><td style="text-align:left;">\u8D85\u65F6\u65F6\u957F\uFF0C\u88AB\u4FEE\u9970\u7684\u65B9\u6CD5\u5982\u679C\u8D85\u65F6\u5219\u4F1A\u5BFC\u81F4\u6D4B\u8BD5\u4E0D\u901A\u8FC7</td></tr><tr><td style="text-align:center;">@Disabled</td><td style="text-align:left;">\u4E0D\u6267\u884C\u7684\u6D4B\u8BD5\u65B9\u6CD5</td></tr><tr><td style="text-align:center;">@RepeatedTest</td><td style="text-align:left;">\u91CD\u590D\u6D4B\u8BD5\uFF0C\u91CD\u590D\u6D4B\u8BD510\u6B21 @RepeatedTest(10)</td></tr><tr><td style="text-align:center;">@ParameterizedTest</td><td style="text-align:left;">\u53C2\u6570\u6D4B\u8BD5\uFF0C\u9700\u548C@ValueSource\u8FDB\u884C\u7ED1\u5B9A @ValueSource\u652F\u6301\u5C5E\u6027 short byte int long float double char boolean java.lang.String java.lang.Class</td></tr></tbody></table><h2 id="spring-boot-test" tabindex="-1"><a class="header-anchor" href="#spring-boot-test" aria-hidden="true">#</a> Spring boot Test</h2>',6),oa=s("\u5177\u4F53\u8BE6\u7EC6\u6587\u6863\u53C2\u8003\uFF1A"),pa={href:"https://docs.spring.io/spring-boot/docs/2.2.x/reference/html/spring-boot-features.html#boot-features-testing",target:"_blank",rel:"noopener noreferrer"},ia=s("\u5B98\u7F51Test \u4F7F\u7528\u66F4\u7A33\u5B9A"),ca=e(`<p>\u5BFC\u5165Spring Boot \u7684\u6D4B\u8BD5\u5305</p><blockquote><p>2.2.x\u5DF2\u7ECF\u652F\u6301junit5</p></blockquote><div class="language-groovy ext-groovy line-numbers-mode"><pre class="language-groovy"><code>testImplementation <span class="token interpolation-string"><span class="token string">&quot;org.springframework.boot:spring-boot-starter-test&quot;</span></span>
<span class="token comment">// \u652F\u6301junint5\u7684\u5957\u4EF6\u6D4B\u8BD5</span>
testImplementation <span class="token interpolation-string"><span class="token string">&quot;org.junit.platform:junit-platform-suite:1.8.2&quot;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="springboottest-\u5C5E\u6027\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#springboottest-\u5C5E\u6027\u8BF4\u660E" aria-hidden="true">#</a> @SpringBootTest \u5C5E\u6027\u8BF4\u660E</h3><p>\u5BF9service\u7B49Component\u505A\u6D4B\u8BD5\u3002</p><h3 id="service-\u5C42\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#service-\u5C42\u6D4B\u8BD5" aria-hidden="true">#</a> Service \u5C42\u6D4B\u8BD5</h3><p>webEnvironment = SpringBootTest.WebEnvironment.NONE \u4E0D\u542F\u52A8\u5BB9\u5668\uFF0C\u4F46\u662F\u52A0\u8F7D\u9700\u8981\u7684\u6D4B\u8BD5\u7C7B TestService.class</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span>NONE<span class="token punctuation">,</span> classes <span class="token operator">=</span> <span class="token class-name">TestService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringComponentDemoTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@MockBean</span>
    <span class="token keyword">private</span> <span class="token class-name">FileTagQueryServiceImpl</span> fileTagQueryService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">TestService</span> testService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">exampleTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TagInfoAndCardinalityDto</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TagInfoAndCardinalityDto</span> dto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TagInfoAndCardinalityDto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dto<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;sdfa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dto<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">given</span><span class="token punctuation">(</span>fileTagQueryService<span class="token punctuation">.</span><span class="token function">allTagInfoAndCardinality</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">willReturn</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TagInfoAndCardinalityDto</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> testService<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertThat</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token string">&quot;sdfa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dao\u5C42\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#dao\u5C42\u6D4B\u8BD5" aria-hidden="true">#</a> Dao\u5C42\u6D4B\u8BD5</h3><p>\u9996\u5148\u8981\u5199\u4E00\u4E2A\u6D4B\u8BD5\u914D\u7F6E\u7C7B\uFF0C\u4E13\u95E8\u7528\u6765\u505A\u6D4B\u8BD5\u7684</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> sqlSessionFactoryRef <span class="token operator">=</span> <span class="token string">&quot;mysqlSessionFactory&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MysqlConfigTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> driverClassName<span class="token operator">=</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">&quot;xxxx?serverTimezone=Asia/Chongqing&amp;useUnicode=true&amp;characterEncoding=utf8&amp;characterSetResults=utf8&amp;useSSL=false&amp;verifyServerCertificate=false&amp;autoReconnct=true&amp;autoReconnectForPools=true&amp;allowMultiQueries=true&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">mysqlDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DruidDataSource</span> datasource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        datasource<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        datasource<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driverClassName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        datasource<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        datasource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>datasource<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;mysql\u6570\u636E\u6E90\u52A0\u8F7D\u6210\u529F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> datasource<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;mysqlSessionFactory&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactory</span> <span class="token function">mysqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSessionFactoryBean</span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span><span class="token function">mysqlDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">setMapperLocations</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PathMatchingResourcePatternResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token string">&quot;classpath*:mapper/mysql/*.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;mysqlTransactionManager&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSourceTransactionManager</span> <span class="token function">mysqlTransactionManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">(</span><span class="token function">mysqlDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;mysqlSessionTemplate&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">SqlSessionTemplate</span> <span class="token function">mysqlSessionTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionTemplate</span><span class="token punctuation">(</span><span class="token function">mysqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u63A5\u7740\u6D4B\u8BD5\u7C7B\u9700\u8981\u52A0\u8F7D\u8FD9\u4E2A\u914D\u7F6E\u6D4B\u8BD5\u7C7B\uFF0C\u7136\u540E\u7F16\u5199\u6D4B\u8BD5\u6848\u4F8B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">MysqlConfigTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ExtendWith</span><span class="token punctuation">(</span><span class="token class-name">SpringExtension</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">MysqlBaseTest</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TagInfoMapperTest</span> <span class="token keyword">extends</span> <span class="token class-name">MysqlBaseTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">TagInfoMapper</span> tagInfoMapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">assertThat</span><span class="token punctuation">(</span>tagInfoMapper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="webenvironment-\u73AF\u5883\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#webenvironment-\u73AF\u5883\u8BBE\u7F6E" aria-hidden="true">#</a> webEnvironment\uFF1A\u73AF\u5883\u8BBE\u7F6E</h4>`,14),la=n("thead",null,[n("tr",null,[n("th",null,"\u53C2\u6570"),n("th",null,"\u8BF4\u660E")])],-1),ua=n("td",null,"MOCK\uFF08\u9ED8\u8BA4\u503C\uFF09",-1),ra=s("\u52A0\u8F7D Web \u5E76\u63D0\u4F9B\u6A21\u62DF Web \u73AF\u5883\u3002\u4F7F\u7528\u6B64\u6279\u6CE8\u65F6\uFF0C\u4E0D\u4F1A\u542F\u52A8\u5D4C\u5165\u5F0F\u670D\u52A1\u5668\u3002\u5982\u679C\u7C7B\u8DEF\u5F84\u4E0A\u7684 Web \u73AF\u5883\u4E0D\u53EF\u7528\uFF0C\u5219\u6B64\u6A21\u5F0F\u5C06\u900F\u660E\u5730\u56DE\u9000\u5230\u521B\u5EFA\u5E38\u89C4\u975E Web \u3002\u5B83\u53EF\u4EE5\u4E0E"),da={href:"https://docs.spring.io/spring-boot/docs/2.2.x/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-with-mock-environment",target:"_blank",rel:"noopener noreferrer"},ka=s("@AutoConfigureMockMvc\u6216@AutoConfigureWebTestClient"),va=s("\u7ED3\u5408\u4F7F\u7528\uFF0C\u4EE5\u5BF9Web\u5E94\u7528\u7A0B\u5E8F\u8FDB\u884C\u57FA\u4E8E\u6A21\u62DF\u7684\u6D4B\u8BD5"),ha=n("tr",null,[n("td",null,"RANDOM_PORT"),n("td",null,"\u52A0\u8F7D\u5E76\u63D0\u4F9B\u771F\u5B9E\u7684 Web \u73AF\u5883\u3002\u5D4C\u5165\u5F0F\u670D\u52A1\u5668\u542F\u52A8\u5E76\u5728\u968F\u673A\u7AEF\u53E3\u4E0A\u4FA6\u542C")],-1),_a=n("tr",null,[n("td",null,"DEFINED_PORT"),n("td",null,"\u52A0\u8F7D\u5E76\u63D0\u4F9B\u771F\u5B9E\u7684 Web \u73AF\u5883\u3002\u5D4C\u5165\u5F0F\u670D\u52A1\u5668\u542F\u52A8\u5E76\u4FA6\u542C\u7A0B\u5E8F\u672C\u8EAB\u7684\u7AEF\u53E3")],-1),ma=n("tr",null,[n("td",null,"NONE"),n("td",null,[s("\u901A\u8FC7\u4F7F\u7528\u52A0\u8F7D \uFF0C\u4F46\u4E0D\u63D0\u4F9B"),n("em",null,"\u4EFB\u4F55"),s(" Web \u73AF\u5883\uFF08\u6A21\u62DF\u6216\u5176\u4ED6\uFF09\u3002ApplicationContextSpringApplication")])],-1),ga=e(`<h4 id="args-\u6CE8\u5165\u8FD0\u884C\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#args-\u6CE8\u5165\u8FD0\u884C\u53C2\u6570" aria-hidden="true">#</a> args \u6CE8\u5165\u8FD0\u884C\u53C2\u6570</h4><p>args \u6CE8\u5165\u53C2\u6570</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>args <span class="token operator">=</span> <span class="token string">&quot;--app.test=one&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">applicationArgumentsPopulated</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">assertThat</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">getOptionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsOnly</span><span class="token punctuation">(</span><span class="token string">&quot;app.test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertThat</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">getOptionValues</span><span class="token punctuation">(</span><span class="token string">&quot;app.test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsOnly</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="web\u670D\u52A1\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#web\u670D\u52A1\u6D4B\u8BD5" aria-hidden="true">#</a> Web\u670D\u52A1\u6D4B\u8BD5</h2><h3 id="\u4F7F\u7528-webmvctest\u5F00\u542F\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-webmvctest\u5F00\u542F\u6D4B\u8BD5" aria-hidden="true">#</a> \u4F7F\u7528@WebMvcTest\u5F00\u542F\u6D4B\u8BD5</h3><p>@WebMvcTest \u6CE8\u89E3\u4E3B\u8981\u7528\u4E8Econtroller\u5C42\u6D4B\u8BD5\uFF0C\u53EA\u8986\u76D6\u5E94\u7528\u7A0B\u5E8F\u7684controller\u5C42\uFF0CHTTP\u8BF7\u6C42\u548C\u54CD\u5E94\u662FMock\u51FA\u6765\u7684\uFF0C\u56E0\u6B64\u4E0D\u4F1A\u521B\u5EFA\u771F\u6B63\u7684\u8FDE\u63A5\u3002\u56E0\u6B64\u9700\u8981\u521B\u5EFA MockMvc bean\u8FDB\u884C\u6A21\u62DF\u63A5\u53E3\u8C03\u7528</p><p>\u652F\u6301MockMvc\u548CWebTestClient\u4F7F\u7528</p><blockquote><p>\u63A8\u8350\u4F7F\u7528webTestClient</p></blockquote>`,8),ba=s("\u5982\u679C\u53EA\u60F3\u5173\u6CE8 web \u5C42\u800C\u4E0D\u542F\u52A8\u5B8C\u6574\u7684 web \u5C42\uFF0C\u8BF7\u8003\u8651"),fa={href:"https://docs.spring.io/spring-boot/docs/2.2.x/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-mvc-tests",target:"_blank",rel:"noopener noreferrer"},ya=s("\u6539\u7528 @WebMvcTest"),xa=e(`<div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>  	<span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">exampleTest</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">WebTestClient</span> webClient<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        webClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">expectStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">expectBody</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u81EA\u52A8\u914D\u7F6E\u7684\u5F39\u7C27-mvc-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u81EA\u52A8\u914D\u7F6E\u7684\u5F39\u7C27-mvc-\u6D4B\u8BD5" aria-hidden="true">#</a> \u81EA\u52A8\u914D\u7F6E\u7684\u5F39\u7C27 MVC \u6D4B\u8BD5</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>@WebMvcTest
\u5305\u542B\u4E86\u5982\u4E0B\u7684\u914D\u7F6E
@WebMvcTest
@Controller
@ControllerAdvice
@JsonComponent
@Component
@ConfigurationProperties
@WebMvcTest
t@EnableConfigurationProperties
@ConfigurationProperties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6D4B\u8BD5\u5355\u4E00\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u5355\u4E00\u63A5\u53E3" aria-hidden="true">#</a> \u6D4B\u8BD5\u5355\u4E00\u63A5\u53E3</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebMvcTest</span><span class="token punctuation">(</span><span class="token class-name">UserVehicleController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyControllerTests</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@MockBean</span>
    <span class="token keyword">private</span> <span class="token class-name">UserVehicleService</span> userVehicleService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token function">given</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userVehicleService<span class="token punctuation">.</span><span class="token function">getVehicleDetails</span><span class="token punctuation">(</span><span class="token string">&quot;sboot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">willReturn</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VehicleDetails</span><span class="token punctuation">(</span><span class="token string">&quot;Honda&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Civic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/sboot/vehicle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span><span class="token punctuation">.</span>TEXT_PLAIN<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">&quot;Honda Civic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webflux\u670D\u52A1\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#webflux\u670D\u52A1\u6D4B\u8BD5" aria-hidden="true">#</a> webflux\u670D\u52A1\u6D4B\u8BD5</h2><p>\u4F7F\u7528\u989D\u76F8\u5173\u914D\u7F6E\u6587\u4EF6\u6765\u5F00\u542Fwebflux\u6D4B\u8BD5</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>properties <span class="token operator">=</span> <span class="token string">&quot;spring.main.web-application-type=reactive&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyWebFluxTests</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528-webfluxtest" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-webfluxtest" aria-hidden="true">#</a> \u4F7F\u7528@WebFluxTest</h3><p>\u53C2\u8003@WebMvcTest</p><h2 id="jdbc-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#jdbc-\u6D4B\u8BD5" aria-hidden="true">#</a> JDBC \u6D4B\u8BD5</h2><h3 id="\u81EA\u52A8\u914D\u7F6E\u7684-jdbc-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u81EA\u52A8\u914D\u7F6E\u7684-jdbc-\u6D4B\u8BD5" aria-hidden="true">#</a> \u81EA\u52A8\u914D\u7F6E\u7684 JDBC \u6D4B\u8BD5</h3><blockquote><p>@Rollback \u8868\u793A\u4E8B\u52A1\u6267\u884C\u5B8C\u56DE\u6EDA\uFF0C\u652F\u6301\u4F20\u5165\u4E00\u4E2A\u53C2\u6570value\uFF0C\u9ED8\u8BA4true\u5373\u56DE\u6EDA\uFF0Cfalse\u4E0D\u56DE\u6EDA\u3002</p></blockquote><p>JDBC \u6D4B\u8BD5\u662F\u4E8B\u52A1\u6027\u7684\uFF0C\u5E76\u5728\u6BCF\u4E2A\u6D4B\u8BD5\u7ED3\u675F\u65F6\u56DE\u6EDA</p><blockquote><p>\u5982\u679C\u60A8\u5E0C\u671B\u6D4B\u8BD5\u9488\u5BF9\u771F\u5B9E\u6570\u636E\u5E93\u8FD0\u884C\uFF0C\u5219\u53EF\u4EE5\u91C7\u7528\u4E0E \u5B9E\u9645\u6570\u636E\u5E93\u76F8\u540C\u7684\u65B9\u5F0F\u4F7F\u7528\u6279\u6CE8\u3002</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span><span class="token class-name">JdbcTest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Propagation</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Transactional</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@JdbcTest</span>
<span class="token comment">// \u4E8B\u52A1\u56DE\u6EDA \u4E0D\u4F1A\u5C06\u6570\u636E\u63D2\u5165\u5230\u6570\u636E\u5E93\u4E2D</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span>NOT_SUPPORTED<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">ExampleNonTransactionalTests</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u81EA\u52A8\u914D\u7F6E\u7684\u6570\u636E-jdbc-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u81EA\u52A8\u914D\u7F6E\u7684\u6570\u636E-jdbc-\u6D4B\u8BD5" aria-hidden="true">#</a> \u81EA\u52A8\u914D\u7F6E\u7684\u6570\u636E JDBC \u6D4B\u8BD5</h3><p><code>@DataJdbcTest</code>\u4E0E\u4F7F\u7528Spring Data JDBC\u5B58\u50A8\u5E93\u7684\u6D4B\u8BD5\u7C7B\u4F3C\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5B83\u914D\u7F6E\u5185\u5B58\u4E2D\u5D4C\u5165\u5F0F\u6570\u636E\u5E93\u3001\u548C Spring Data JDBC \u5B58\u50A8\u5E93\u3002\u4F7F\u7528\u6279\u6CE8\u65F6\uFF0C\u4E0D\u4F1A\u626B\u63CF\u5E38\u89C4\u548C Bean\u3002 \u53EF\u7528\u4E8E\u5305\u62EC\u8C46\u7C7B\u3002</p>`,18);function Ta(wa,ja){const a=p("ExternalLinkIcon");return i(),c("div",null,[u,r,n("table",null,[d,n("tbody",null,[k,n("tr",null,[v,n("td",h,[_,n("a",m,[g,t(a)]),b,f,y,x])]),n("tr",null,[T,n("td",w,[j,n("a",q,[S,t(a)]),M,C,B,A])]),n("tr",null,[D,n("td",E,[W,n("a",N,[R,t(a)]),J,P,F,I])]),n("tr",null,[O,n("td",U,[V,n("a",z,[L,t(a)]),H,n("a",Q,[G,t(a)]),K,X,Y,Z])]),n("tr",null,[$,n("td",nn,[sn,n("a",an,[tn,t(a)]),en,on,pn])]),n("tr",null,[cn,n("td",ln,[un,n("a",rn,[dn,t(a)]),kn,vn,hn])]),n("tr",null,[_n,n("td",mn,[gn,n("a",bn,[fn,t(a)]),yn,xn,Tn])]),n("tr",null,[wn,n("td",jn,[qn,n("a",Sn,[Mn,t(a)]),Cn,Bn,An])]),Dn,En,n("tr",null,[Wn,n("td",Nn,[Rn,Jn,Pn,Fn,In,On,Un,Vn,zn,n("a",Ln,[Hn,t(a)]),Qn])]),n("tr",null,[Gn,n("td",Kn,[Xn,Yn,Zn,$n,ns,ss,as,ts,es,n("a",os,[ps,t(a)]),is])]),n("tr",null,[cs,n("td",ls,[us,n("a",rs,[ds,t(a)]),ks,n("a",vs,[hs,t(a)]),_s,ms,gs])]),n("tr",null,[bs,n("td",fs,[ys,n("a",xs,[Ts,t(a)]),ws,js,qs])]),n("tr",null,[Ss,n("td",Ms,[Cs,n("a",Bs,[As,t(a)]),Ds,Es,Ws])]),Ns,n("tr",null,[Rs,n("td",Js,[Ps,n("a",Fs,[Is,t(a)]),Os,Us,Vs])]),n("tr",null,[zs,n("td",Ls,[Hs,n("a",Qs,[Gs,t(a)]),Ks,Xs,Ys])]),n("tr",null,[Zs,n("td",$s,[na,n("a",sa,[aa,t(a)]),ta])])])]),ea,n("blockquote",null,[n("p",null,[oa,n("a",pa,[ia,t(a)])])]),ca,n("table",null,[la,n("tbody",null,[n("tr",null,[ua,n("td",null,[ra,n("a",da,[ka,t(a)]),va])]),ha,_a,ma])]),ga,n("p",null,[ba,n("a",fa,[ya,t(a)])]),xa])}var Sa=o(l,[["render",Ta],["__file","Spring Boot \u4F7F\u7528 Junit5\u6D4B\u8BD5.html.vue"]]);export{Sa as default};
